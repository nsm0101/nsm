<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta property="og:image" content="images/og-2400.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="2400" />
  <meta property="og:image:height" content="1260" />
  <title>CloseDose â€“ Pediatric Medication Dosing Calculator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet" />
  <style>
    :root {
      --theme-dark: #0f2c2a;
      --theme-dark-strong: #0c1f1d;
      --theme-dark-soft: #4a6260;
      --theme-bright: #24a687;
      --theme-bright-strong: #1f8f7b;
      --theme-bright-soft: #d6eeea;
      --theme-bright-lighter: #f1faf8;
      --theme-shadow: rgba(15, 44, 42, 0.32);
      --theme-bright-translucent: rgba(36, 166, 135, 0.16);
      --theme-dark-translucent: rgba(15, 44, 42, 0.18);
      --text-on-bright: #ffffff;
      --text-on-dark: #ffffff;
      --warning-soft: rgba(255, 171, 64, 0.22);
      --danger-soft: rgba(244, 67, 54, 0.15);
      --warning-orange-bg: #fff3e0;
      --warning-orange-text: #c25a00;
      --warning-red-bg: #fdecea;
      --warning-red-text: #c62828;
      --card-left: 28px;
      --stack1: var(--theme-bright-lighter);
      --stack2: var(--theme-bright-soft);
      --stack3: var(--theme-bright);
      --stack-gap: clamp(14px, 3vw, 28px);
      --background: #f5f9f9;
      --surface: #ffffff;
      --text-color: var(--theme-dark);
      --card-radius: 18px;
      --inner-radius: 14px;
      --pill-radius: 32px;
      --border-width: 3px;
      --shadow-card: 0 6px 0 var(--theme-shadow);
      --shadow-pill: 0 4px 0 var(--theme-shadow);
      --shadow-btn: 0 3px 0 var(--theme-shadow);
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Nunito", system-ui, -apple-system, "Segoe UI", sans-serif;
      background: var(--background) url("images/light-bg.png") repeat;
      background-size: 900px auto;
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .skip-link {
      position: absolute;
      top: -40px;
      left: 16px;
      background: var(--surface);
      border: var(--border-width) solid var(--theme-dark);
      border-radius: var(--pill-radius);
      padding: 10px 18px;
      font-weight: 800;
      text-decoration: none;
      color: var(--theme-dark);
      transition: top 0.2s ease;
      z-index: 2000;
    }

    .skip-link:focus {
      top: 16px;
    }

    .menu-btn {
      position: fixed;
      top: clamp(18px, 5vw, 26px);
      right: clamp(18px, 6vw, 36px);
      z-index: 1200;
      background: var(--surface);
      color: var(--theme-dark);
      border: var(--border-width) solid var(--theme-dark);
      border-radius: var(--pill-radius);
      font-weight: 900;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-size: 1rem;
      padding: 10px 20px;
      box-shadow: var(--shadow-pill);
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: background 0.12s, color 0.12s, box-shadow 0.12s, border-color 0.12s;
    }

    .menu-btn .hamburger {
      display: inline-flex;
      flex-direction: column;
      justify-content: space-between;
      width: 28px;
      height: 20px;
    }

    .menu-btn .hamburger span {
      display: block;
      height: 4px;
      border-radius: 2px;
      background: var(--theme-dark);
      transition: background 0.12s;
    }

    .menu-btn:focus-visible {
      outline: 4px dashed var(--theme-dark);
      outline-offset: 4px;
    }

    @media (max-width: 640px) {
      .menu-btn {
        font-size: 0;
        width: 54px;
        height: 54px;
        justify-content: center;
        padding: 12px;
      }

      .menu-btn .label {
        display: none;
      }
    }

    .menu-overlay {
      position: fixed;
      inset: 0;
      z-index: 1300;
      background: rgba(245, 249, 249, 0.96);
      backdrop-filter: blur(3px) saturate(1.02);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.22s ease;
    }

    .menu-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    .menu-panel {
      width: min(400px, 92vw);
      background: var(--surface);
      border: var(--border-width) solid var(--theme-dark);
      border-radius: var(--card-radius);
      box-shadow: var(--shadow-card);
      padding: 32px 26px 20px;
      transform: translateY(8px);
      transition: transform 0.2s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
    }

    .menu-overlay.open .menu-panel {
      transform: translateY(0);
    }

    .menu-links {
      display: flex;
      flex-direction: column;
      gap: 18px;
      width: 100%;
    }

    .menu-links a {
      text-decoration: none;
      color: var(--theme-dark);
      font-weight: 900;
      letter-spacing: 0.05em;
      text-align: center;
      font-size: 1.3rem;
      padding: 10px 4px;
      border-radius: 12px;
      transition: background 0.12s ease, color 0.12s ease;
    }

    .menu-links a[aria-current="page"] {
      background: var(--theme-bright-soft);
      color: var(--theme-dark);
    }

    .close-menu {
      font-size: 1rem;
      padding: 12px 22px;
      text-transform: uppercase;
      border: var(--border-width) solid var(--theme-dark);
      border-radius: var(--pill-radius);
      background: var(--theme-bright);
      color: var(--text-on-bright);
      font-weight: 900;
      letter-spacing: 0.08em;
      cursor: pointer;
      box-shadow: var(--shadow-pill);
    }

    .page {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: clamp(40px, 12vw, 120px) 16px clamp(120px, 18vw, 200px);
    }

    .card-stack {
      width: min(760px, 95vw);
      position: relative;
      padding-top: calc(var(--stack-gap) * 2 + clamp(48px, 10vw, 92px));
      padding-bottom: calc(var(--stack-gap) * 2);
    }

    .accent-bar {
      position: absolute;
      inset-inline: -2.5%;
      top: 0;
      bottom: 0;
      border-radius: var(--card-radius);
      border: var(--border-width) solid var(--theme-dark);
      pointer-events: none;
      box-shadow: var(--shadow-card);
      transition: top 0.3s ease, bottom 0.3s ease;
    }

    .accent-bar.stack1 {
      background: var(--stack1);
      top: calc(-1 * var(--stack-gap) * 2);
      bottom: calc(-1 * var(--stack-gap) * 2);
      z-index: 1;
    }

    .accent-bar.stack2 {
      background: var(--stack2);
      top: calc(-1 * var(--stack-gap));
      bottom: calc(-1 * var(--stack-gap));
      z-index: 2;
    }

    .accent-bar.stack3 {
      background: var(--stack3);
      z-index: 3;
    }

    .logo-wrapper {
      position: relative;
      width: 100%;
      margin: 0 auto;
      min-height: clamp(140px, 24vw, 220px);
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-top: clamp(24px, 6vw, 48px);
      margin-bottom: calc(-1 * clamp(24px, 5vw, 40px));
      z-index: 8;
    }

    .logo-shell {
      position: relative;
      width: 92%;
      max-width: 720px;
      min-height: clamp(80px, 18vw, 140px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      gap: clamp(16px, 4vw, 28px);
      padding-bottom: clamp(32px, 6vw, 48px);
      transition: transform 0.22s cubic-bezier(0.8, 0, 0.2, 1),
        width 0.22s cubic-bezier(0.8, 0, 0.2, 1),
        left 0.22s ease,
        top 0.22s ease,
        padding-bottom 0.2s ease,
        gap 0.2s ease;
      transform-origin: left center;
      z-index: 1800;
      pointer-events: none;
    }

    .logo-wordmark {
      display: block;
      width: clamp(260px, 58vw, 420px);
      max-width: 520px;
      height: auto;
      pointer-events: none;
      transition: width 0.2s ease, opacity 0.2s ease, transform 0.2s ease;
    }

    .logo-link {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 640px;
      text-decoration: none;
      pointer-events: auto;
      transition: transform 0.22s ease, box-shadow 0.22s ease;
      z-index: 1;
    }

    .logo-link::before {
      content: "";
      position: absolute;
      inset: 0;
      background: var(--surface);
      border: var(--border-width) solid var(--theme-dark);
      border-radius: clamp(18px, 4vw, 28px);
      box-shadow: var(--shadow-pill);
      opacity: 0;
      transform: translateX(-120%) scale(0.92);
      transition: transform 0.3s ease, opacity 0.2s ease;
      z-index: -1;
      pointer-events: none;
    }

    .logo-link:active {
      transform: translateY(3px);
      box-shadow: none;
    }

    .logo-link:focus-visible {
      outline: 4px dashed var(--theme-dark);
      outline-offset: 6px;
    }

    #logo-sequence {
      display: block;
      width: 100%;
      height: auto;
      pointer-events: none;
    }

    body.logo-collapsed .logo-wrapper {
      margin-bottom: 0;
    }

    body.logo-condensed .logo-shell {
      width: clamp(320px, 38vw, 460px);
      padding-bottom: clamp(20px, 4vw, 28px);
      gap: clamp(12px, 3vw, 22px);
      z-index: 2000;
    }

    body.logo-condensed .logo-wordmark {
      width: clamp(220px, 48vw, 340px);
    }

    body.logo-collapsed .logo-shell {
      position: fixed;
      top: clamp(18px, 5vw, 26px);
      left: clamp(18px, 6vw, 36px);
      width: clamp(110px, 22vw, 174px);
      transform: none;
      z-index: 2200;
      padding-bottom: 0;
      min-height: auto;
      flex-direction: row;
      gap: 0;
      align-items: center;
      justify-content: flex-start;
    }

    body.logo-collapsed .logo-wordmark {
      display: none;
    }

    body.logo-collapsed .logo-link {
      width: clamp(80px, 18vw, 118px);
      height: clamp(80px, 18vw, 118px);
      padding: clamp(6px, 1.8vw, 12px);
      box-shadow: var(--shadow-pill);
    }

    body.logo-collapsed .logo-link::before {
      opacity: 1;
      transform: translateX(0);
      border-radius: clamp(16px, 3vw, 22px);
      inset: clamp(2px, 0.7vw, 6px);
    }

    body.logo-collapsed #logo-sequence {
      width: 100%;
      height: auto;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .main-card {
      position: relative;
      z-index: 6;
      background: var(--surface);
      border-radius: var(--card-radius);
      border: var(--border-width) solid var(--theme-dark);
      box-shadow: var(--shadow-card);
      padding: clamp(28px, 4vw, 42px);
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 32px);
    }

    .hero-intro {
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: clamp(16px, 3vw, 20px);
    }

    .hero-intro h1 {
      font-size: clamp(2.1rem, 5vw, 3rem);
      margin: 0;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .hero-intro p {
      margin: 0;
      font-size: clamp(1.05rem, 2.4vw, 1.2rem);
      line-height: 1.6;
    }

    .pill-row {
      display: flex;
      gap: 14px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .pill-link {
      appearance: none;
      border: var(--border-width) solid var(--theme-dark);
      background: var(--theme-bright);
      color: var(--text-on-bright);
      font-weight: 900;
      font-size: clamp(1rem, 2.4vw, 1.3rem);
      letter-spacing: 0.08em;
      border-radius: var(--pill-radius);
      padding: 0.85em 2.6em;
      box-shadow: var(--shadow-pill);
      cursor: pointer;
      text-transform: uppercase;
      text-decoration: none;
      transition: background 0.12s ease, transform 0.05s ease, box-shadow 0.12s ease;
    }

    .pill-link:hover,
    .pill-link:focus-visible {
      background: var(--theme-bright-strong);
      outline: none;
    }

    .pill-link:active {
      transform: translateY(2px);
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
    }

    .pill-link--secondary {
      background: var(--surface);
      color: var(--theme-dark);
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: clamp(16px, 3vw, 24px);
      margin-top: clamp(12px, 2.2vw, 20px);
    }

    .feature-card {
      background: var(--theme-bright-soft);
      border: var(--border-width) solid var(--theme-dark);
      border-radius: var(--inner-radius);
      padding: clamp(18px, 3vw, 22px);
      text-align: left;
      box-shadow: 0 4px 0 rgba(0, 0, 0, 0.08);
    }

    .feature-card h2 {
      margin: 0 0 8px 0;
      font-size: clamp(1.2rem, 2.8vw, 1.5rem);
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .feature-card p {
      margin: 0;
      line-height: 1.55;
    }

    .form-card {
      background: var(--surface);
      border-radius: var(--inner-radius);
      border: var(--border-width) solid var(--theme-dark);
      padding: clamp(20px, 3.5vw, 28px);
      display: flex;
      flex-direction: column;
      gap: clamp(16px, 2.8vw, 22px);
      box-shadow: var(--shadow-card);
    }

    .form-title {
      font-weight: 900;
      text-transform: uppercase;
      font-size: clamp(1.1rem, 2.6vw, 1.3rem);
      letter-spacing: 0.05em;
      margin-bottom: 8px;
    }

    .segmented-buttons,
    .unit-toggle {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .age-option,
    .unit-option {
      appearance: none;
      border: var(--border-width) solid var(--theme-dark);
      background: var(--theme-bright);
      color: var(--text-on-bright);
      font-weight: 900;
      font-size: clamp(1rem, 2.6vw, 1.2rem);
      letter-spacing: 0.08em;
      border-radius: var(--pill-radius);
      padding: 0.8em 2.2em;
      box-shadow: var(--shadow-pill);
      cursor: pointer;
      text-transform: uppercase;
      transition: background 0.12s ease, transform 0.05s ease, box-shadow 0.12s ease;
    }

    .unit-option {
      padding: 0.65em 1.8em;
    }

    .age-option[aria-pressed="true"],
    .unit-option[aria-pressed="true"],
    .age-option:active,
    .unit-option:active {
      background: var(--theme-bright-strong);
      transform: translateY(2px);
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.22);
    }

    .age-option:focus-visible,
    .unit-option:focus-visible {
      outline: 4px dashed var(--theme-dark);
      outline-offset: 4px;
    }

    .hello-box {
      background: var(--theme-bright-soft);
      border-radius: var(--inner-radius);
      border: var(--border-width) dashed var(--theme-dark);
      padding: clamp(14px, 2.4vw, 18px);
      margin-top: clamp(12px, 2.2vw, 18px);
      font-weight: 700;
      text-align: center;
    }

    .weight-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      align-items: stretch;
      justify-content: center;
    }

    .weight-input {
      flex: 1 1 220px;
      position: relative;
    }

    .weight-input input {
      width: 100%;
      padding: 18px 18px;
      font-size: 1.2rem;
      border-radius: var(--inner-radius);
      border: var(--border-width) solid var(--theme-dark);
      font-family: inherit;
      font-weight: 700;
    }

    .weight-input input:focus-visible {
      outline: 4px dashed var(--theme-dark);
      outline-offset: 4px;
    }

    .action {
      display: flex;
      justify-content: center;
    }

    .action button {
      border: var(--border-width) solid var(--theme-dark);
      background: var(--theme-bright);
      color: var(--text-on-bright);
      font-weight: 900;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      border-radius: var(--pill-radius);
      padding: 1em 3em;
      font-size: clamp(1.05rem, 2.6vw, 1.3rem);
      box-shadow: var(--shadow-pill);
      cursor: pointer;
      transition: background 0.12s ease, transform 0.05s ease, box-shadow 0.12s ease;
    }

    .action button:disabled {
      opacity: 0.45;
      cursor: not-allowed;
      box-shadow: none;
    }

    .action button:hover:not(:disabled),
    .action button:focus-visible {
      background: var(--theme-bright-strong);
      outline: none;
    }

    .action button:active:not(:disabled) {
      transform: translateY(2px);
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.22);
    }

    #message {
      margin: 12px 0 0;
      font-weight: 700;
      text-align: center;
      border-radius: var(--inner-radius);
      padding: 12px 16px;
      border: var(--border-width) solid var(--theme-dark);
      background: var(--theme-bright-translucent);
    }

    #results {
      margin-top: clamp(18px, 3vw, 24px);
      display: grid;
      gap: 18px;
    }

    .result-card {
      background: var(--theme-bright-lighter);
      border-radius: var(--inner-radius);
      border: var(--border-width) solid var(--theme-dark);
      padding: 16px 18px;
      text-align: left;
      line-height: 1.6;
    }

    .result-card h3 {
      margin-top: 0;
      margin-bottom: 8px;
      text-transform: uppercase;
      font-size: 1.1rem;
    }

    .result-weight {
      text-align: center;
      font-weight: 800;
      letter-spacing: 0.05em;
    }

    .warning-card {
      border-radius: var(--inner-radius);
      border: var(--border-width) solid var(--theme-dark);
      padding: 14px 16px;
      font-weight: 700;
      background: var(--theme-dark-translucent);
    }

    .warning-card--teal {
      background: var(--theme-bright-translucent);
    }

    .warning-card--orange {
      background: var(--warning-orange-bg);
      color: var(--warning-orange-text);
      font-weight: 800;
      border-color: var(--warning-orange-text);
    }

    .warning-card--red-soft {
      background: var(--warning-red-bg);
      color: var(--warning-red-text);
      font-weight: 800;
      border-color: var(--warning-red-text);
    }

    .warning-card--red-note {
      background: var(--warning-red-bg);
      color: var(--warning-red-text);
      font-style: italic;
      font-weight: 600;
      border-color: var(--warning-red-text);
    }

    .warning-card--red-note em {
      color: inherit;
      font-style: inherit;
    }

    .disclaimer-section {
      width: 100%;
      display: flex;
      justify-content: center;
      padding: clamp(32px, 5vw, 48px) 16px;
    }

    .disclaimer-card {
      max-width: min(720px, 95vw);
      width: 100%;
      background: var(--theme-dark);
      color: var(--text-on-dark);
      border-radius: var(--card-radius);
      border: var(--border-width) solid var(--theme-dark);
      padding: clamp(24px, 4vw, 32px);
      text-align: center;
      box-shadow: var(--shadow-card);
    }

    .disclaimer-card strong {
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .donation-pill {
      margin-top: clamp(18px, 3vw, 24px);
      display: inline-block;
    }

    .donation-pill[aria-expanded='true'] {
      background: var(--surface);
      color: var(--theme-dark);
    }

    .donation-links {
      margin-top: clamp(18px, 3vw, 26px);
      padding: clamp(18px, 3.2vw, 24px);
      border-radius: var(--inner-radius);
      background: rgba(255, 255, 255, 0.16);
      text-align: left;
    }

    .donation-links p {
      margin: 0 0 12px;
      font-weight: 800;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .donation-links ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 12px;
    }

    .donation-links a {
      color: #fff;
      font-weight: 700;
      text-decoration: none;
    }

    .donation-links a:hover,
    .donation-links a:focus-visible {
      text-decoration: underline;
    }

    footer {
      text-align: center;
      padding: 24px 16px 40px;
      font-size: 0.95rem;
      color: var(--theme-dark-soft);
    }

    @media (max-width: 720px) {
      .accent-bar {
        inset-inline: -4%;
      }

      body.logo-collapsed .logo-shell {
        top: 16px;
        left: 16px;
        width: clamp(100px, 27vw, 154px);
      }

      body.logo-collapsed .logo-link {
        max-width: clamp(100px, 27vw, 154px);
      }

      .menu-btn {
        top: 16px;
        right: 16px;
      }
    }

    @media (max-width: 540px) {
      .logo-wrapper {
        min-height: 200px;
      }

      .feature-grid {
        grid-template-columns: 1fr;
      }

      .age-option,
      .unit-option {
        width: 100%;
      }

      .pill-link {
        width: 100%;
      }

      .weight-row {
        flex-direction: column;
      }

      .weight-input {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#calculator">Skip to calculator</a>
  <button class="menu-btn" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="siteMenu" aria-label="Open menu">
    <span class="label">Menu</span>
    <span class="hamburger" aria-hidden="true"><span></span><span></span><span></span></span>
  </button>

  <div class="menu-overlay" id="siteMenu" hidden>
    <div class="menu-panel" role="dialog" aria-modal="true" aria-labelledby="menuHeading">
      <h2 id="menuHeading" class="sr-only">Site menu</h2>
      <nav class="menu-links">
        <a href="index.html" aria-current="page">Calculator</a>
        <a href="medication-guides.html">Medication Guides</a>
        <a href="donation.html">Donate</a>
        <a href="#disclaimer-card">Disclaimer &amp; Support</a>
      </nav>
      <button class="close-menu" type="button">Close</button>
    </div>
  </div>

  <div class="page">
    <div class="card-stack">
      <div class="accent-bar stack1" aria-hidden="true"></div>
      <div class="accent-bar stack2" aria-hidden="true"></div>
      <div class="accent-bar stack3" aria-hidden="true"></div>

      <div class="logo-wrapper">
        <div class="logo-shell">
          <img
            class="logo-wordmark"
            src="images/CloseDose_wordmark.svg"
            data-wordmark-src="images/CloseDose_wordmark.svg"
            alt="CloseDose wordmark"
          />
          <a class="logo-link" href="index.html" aria-label="CloseDose home">
            <img id="logo-sequence" src="images/CD-logo-seq/v2/logo-seq01.svg" alt="" aria-hidden="true" />
          </a>
          <span class="sr-only">CloseDose</span>
        </div>
      </div>

      <main class="main-card" role="main">
        <section class="hero-intro">
          <h1>Pediatric dosing made simple</h1>
          <p>
            CloseDose helps caregivers calculate safe acetaminophen and ibuprofen doses for infants and children. Select an age range, enter a weight, and receive easy-to-follow guidance backed by pediatric expertise.
          </p>
          <div class="pill-row">
            <a class="pill-link" href="#calculator">Open Calculator</a>
            <a class="pill-link pill-link--secondary" href="medication-guides.html">Medication Guides</a>
          </div>
          <div class="feature-grid">
            <article class="feature-card">
              <h2>Quick Age Cards</h2>
              <p>Tap an age group to unlock dosing instructions, warnings, and next steps tailored for the patient.</p>
            </article>
            <article class="feature-card">
              <h2>Weight-Based</h2>
              <p>Enter pounds or kilogramsâ€”CloseDose converts automatically and applies safe maximum dose caps.</p>
            </article>
            <article class="feature-card">
              <h2>Caregiver Tips</h2>
              <p>Review practical reminders on alternating medications, logging doses, and warning signs to watch.</p>
            </article>
          </div>
        </section>

        <section class="form-card" aria-labelledby="calculator-title">
          <div class="form-title" id="calculator-title">Dose Calculator</div>
          <form id="calculator" novalidate>
            <div class="form-group" aria-live="polite">
              <div class="form-title">Patient Age</div>
              <div class="segmented">
                <div class="segmented-buttons" role="group" aria-label="Select patient age">
                  <button type="button" class="age-option" data-age="0-2" aria-pressed="false">0-2 Months</button>
                  <button type="button" class="age-option" data-age="2-6" aria-pressed="false">2-6 Months</button>
                  <button type="button" class="age-option" data-age="6+" aria-pressed="false">6+ Months</button>
                </div>
                <p class="hello-box">Welcome! Choose an age group to begin.</p>
              </div>
              <select id="age" name="age" aria-hidden="true" tabindex="-1" hidden>
                <option value="">Select age</option>
                <option value="0-2">0-2 Months</option>
                <option value="2-6">2-6 Months</option>
                <option value="6+">6+ Months</option>
              </select>
              <p id="message" hidden></p>
            </div>

            <div class="form-group">
              <div class="form-title">Patient Weight</div>
              <div class="weight-row">
                <div class="weight-input">
                  <label class="sr-only" for="weight">Enter weight</label>
                  <input type="number" id="weight" name="weight" inputmode="decimal" placeholder="Enter weight" min="0" step="0.1" />
                </div>
                <div class="unit-toggle" role="group" aria-label="Select weight unit">
                  <button type="button" class="unit-option" data-unit="lbs" aria-pressed="true">lbs</button>
                  <button type="button" class="unit-option" data-unit="kg" aria-pressed="false">kg</button>
                </div>
              </div>
              <select id="weight-unit" name="weight-unit" aria-hidden="true" tabindex="-1" hidden>
                <option value="lbs" selected>lbs</option>
                <option value="kg">kg</option>
              </select>
            </div>

            <div class="action">
              <button type="submit">Calculate</button>
            </div>
            <div id="results" aria-live="polite"></div>
          </form>
        </section>
      </main>
    </div>
  </div>

  <section class="disclaimer-section" id="disclaimer">
    <div class="disclaimer-card" id="disclaimer-card">
      <p>
        <strong>Disclaimer:</strong> This tool is for educational purposes only and is not a substitute for professional medical advice. Always confirm dosing with your pediatrician or pharmacist before administering medication.
      </p>
      <p>Updated 9/21/2025 â€¢ Nickolas Mancini, MD, MBA.</p>
      <button
        class="pill-link donation-pill"
        type="button"
        data-donation-toggle
        aria-expanded="false"
        aria-controls="donationLinks"
      >
        Donate!
      </button>
      <div class="donation-links" id="donationLinks" hidden aria-hidden="true">
        <p>Support CloseDose</p>
        <ul>
          <li>
            <a href="https://www.closedose.com/donate" target="_blank" rel="noopener" data-donation-focus>
              Give through our donation portal
            </a>
          </li>
          <li>
            <a href="https://www.closedose.com/donate?view=wishlist" target="_blank" rel="noopener">
              Shop our supplies wishlist
            </a>
          </li>
          <li>
            <a href="https://www.closedose.com/donate?view=monthly" target="_blank" rel="noopener">
              Become a monthly supporter
            </a>
          </li>
        </ul>
      </div>
    </div>
  </section>

  <footer>
    <small>&copy; <span id="currentYear"></span> CloseDose. All rights reserved.</small>
  </footer>

  <script src="script.js"></script>
  <script>
    (function () {
      const menuButton = document.querySelector('.menu-btn');
      const overlay = document.getElementById('siteMenu');
      if (!menuButton || !overlay) {
        return;
      }
      const closeButton = overlay.querySelector('.close-menu');
      const focusableSelector = 'a, button, [tabindex]:not([tabindex="-1"])';

      function openMenu() {
        overlay.hidden = false;
        requestAnimationFrame(() => overlay.classList.add('open'));
        menuButton.setAttribute('aria-expanded', 'true');
        menuButton.setAttribute('aria-label', 'Close menu');
        if (closeButton) {
          closeButton.focus();
        }
      }

      function closeMenu() {
        overlay.classList.remove('open');
        overlay.hidden = true;
        menuButton.setAttribute('aria-expanded', 'false');
        menuButton.setAttribute('aria-label', 'Open menu');
        menuButton.focus();
      }

      menuButton.addEventListener('click', () => {
        if (overlay.classList.contains('open')) {
          closeMenu();
        } else {
          openMenu();
        }
      });

      if (closeButton) {
        closeButton.addEventListener('click', closeMenu);
      }

      overlay.addEventListener('click', (event) => {
        if (event.target === overlay) {
          closeMenu();
        }
      });

      overlay.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          closeMenu();
          return;
        }
        if (event.key !== 'Tab' || !overlay.classList.contains('open')) {
          return;
        }
        const focusable = Array.from(overlay.querySelectorAll(focusableSelector));
        if (!focusable.length) {
          return;
        }
        const first = focusable[0];
        const last = focusable[focusable.length - 1];
        if (event.shiftKey && document.activeElement === first) {
          event.preventDefault();
          last.focus();
        } else if (!event.shiftKey && document.activeElement === last) {
          event.preventDefault();
          first.focus();
        }
      });

      const menuLinks = overlay.querySelectorAll('a[href]');
      menuLinks.forEach((link) => {
        link.addEventListener('click', () => {
          const href = link.getAttribute('href');
          if (href && href.startsWith('#')) {
            closeMenu();
          }
        });
      });

      const donationToggle = document.querySelector('[data-donation-toggle]');
      const donationPanel = document.getElementById('donationLinks');
      if (donationToggle && donationPanel) {
        const focusTarget = donationPanel.querySelector('[data-donation-focus]');
        const setPanelState = (expanded) => {
          donationToggle.setAttribute('aria-expanded', String(expanded));
          donationPanel.hidden = !expanded;
          donationPanel.setAttribute('aria-hidden', String(!expanded));
        };

        donationToggle.addEventListener('click', (event) => {
          const isExpanded = donationToggle.getAttribute('aria-expanded') === 'true';
          const nextExpanded = !isExpanded;
          setPanelState(nextExpanded);
          if (nextExpanded && focusTarget && event.detail === 0) {
            focusTarget.focus();
          }
        });

        donationPanel.addEventListener('keydown', (event) => {
          if (event.key === 'Escape') {
            setPanelState(false);
            donationToggle.focus();
          }
        });
      }
    })();
  </script>
  <script>
    (function () {
      const logo = document.getElementById('logo-sequence');
      const mainCard = document.querySelector('.main-card');
      if (!logo || !mainCard) {
        return;
      }

      const totalFrames = 29;
      const collapseDistance = 160;
      const condenseThreshold = 40;
      const collapseThreshold = 140;
      let currentFrame = 1;

      function pad(number) {
        return number.toString().padStart(2, '0');
      }

      function setFrame(progress) {
        const frame = Math.max(1, Math.min(totalFrames, Math.round(1 + progress * (totalFrames - 1))));
        if (frame !== currentFrame) {
          currentFrame = frame;
          logo.setAttribute('src', `images/CD-logo-seq/v2/logo-seq${pad(frame)}.svg`);
        }
      }

      function updateCardLeft() {
        const rect = mainCard.getBoundingClientRect();
        document.documentElement.style.setProperty('--card-left', `${Math.round(rect.left)}px`);
      }

      function handleScroll() {
        const scrollY = window.scrollY || window.pageYOffset;
        const progress = Math.min(1, Math.max(0, scrollY / collapseDistance));
        setFrame(progress);
        document.body.classList.toggle('logo-condensed', scrollY > condenseThreshold);
        document.body.classList.toggle('logo-collapsed', scrollY > collapseThreshold);
      }

      updateCardLeft();
      handleScroll();

      window.addEventListener('scroll', handleScroll, { passive: true });
      window.addEventListener('resize', () => {
        updateCardLeft();
        handleScroll();
      });
      window.addEventListener('load', () => {
        updateCardLeft();
        handleScroll();
      });
    })();
  </script>
  <script>
    document.getElementById('currentYear').textContent = new Date().getFullYear();
  </script>
</body>
</html>
